manage.py shell


from ncrePay.models import Candidate
import csv
csvFile = file('ncrePay/candidate.csv', 'rb')
csvReader = csv.reader(csvFile)


for line in csvReader:
    if csvReader.line_num == 1:
        continue
    list = Candidate.objects.filter(candidateNum=line[2], testCode=line[16])
    if list:
        continue
    print 'add' + line[2]
    can = Candidate()
    can.candidateNum = line[2]
    can.testNum = line[3]
    can.name = line[4]
    can.candidateId = line[8]
    can.paidTime = line[15]
    can.testCode = line[16]
    can.testName = line[17]
    can.photoName = line[18]
    can.mail = line[21]
    can.phone = line[22]
    can.testRoom = line[25]
    can.testAddr = line[26]
    can.testNum = line[28]
    can.testBeginTime = line[32]
    can.testEndTime = line[33]
    can.save()


csvFile.close()
exit()